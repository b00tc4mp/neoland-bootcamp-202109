(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(8),s=n.n(a),i=(n(13),n(3)),c=n(4),u=n(2),l=n(6),p=n(5),d={level:"debug",debug:function(e){"debug"===this.level&&console.log("%cDEBUG %c"+(new Date).toISOString()+" %c"+e,"color: green;","color: lightgray;","color: green;")},info:function(e){("debug"===this.level||"info"===this.level)&&console.log("%cINFO %c"+(new Date).toISOString()+" %c"+e,"color: blue;","color: lightgray;","color: blue;")},warn:function(e){("debug"===this.level||"info"===this.level||"warn"===this.level)&&console.log("%cWARN %c"+(new Date).toISOString()+" %c"+e,"color: gold;","color: lightgray;","color: gold;")},error:function(e){("debug"===this.level||"info"===this.level||"warn"===this.level||"error"===this.level)&&console.log("%cERROR %c"+(new Date).toISOString()+" %c"+e,"color: red;","color: lightgray;","color: red;")}};var h=function(e,t,n,r){if("string"!==typeof e)throw new TypeError(e+" is not a string");if(!e.trim().length)throw new Error("name is empty or blank");if(e.trim()!==e)throw new Error("blank spaces around name");if("string"!==typeof t)throw new TypeError(t+" is not a string");if(!t.trim().length)throw new Error("username is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("username has blank spaces");if(t.length<4)throw new Error("username has less than 4 characters");if("string"!==typeof n)throw new TypeError("".concat(n," is not a string"));if(!n.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(n))throw new Error("password has blank spaces");if(n.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof r)throw new TypeError("".concat(r," is not a function"));var o=new XMLHttpRequest;o.onload=function(){var e=o.status,t=o.responseText;if(409===e||400===e){var n=JSON.parse(t).error;r(new Error(n))}else 201===e&&r(null)},o.open("POST","https://b00tc4mp.herokuapp.com/api/v2/users"),o.setRequestHeader("Content-Type","application/json");var a={name:e,username:t,password:n};o.send(JSON.stringify(a))};var f=function(e,t,n){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));if(!e.trim().length)throw new Error("username is empty or blank");if(/\r?\n|\r|\t| /g.test(e))throw new Error("username has blank spaces");if(e.length<4)throw new Error("username has less than 4 characters");if("string"!==typeof t)throw new TypeError("".concat(t," is not a string"));if(!t.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("password has blank spaces");if(t.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof n)throw new TypeError("".concat(n," is not a function"));var r=new XMLHttpRequest;r.onload=function(){var e=r.status,t=r.responseText;if(401===e){var o=JSON.parse(t).error;n(new Error(o))}else if(200===e){var a=JSON.parse(t).token;n(null,a)}},r.open("POST","https://b00tc4mp.herokuapp.com/api/v2/users/auth"),r.setRequestHeader("Content-Type","application/json");var o={username:e,password:t};r.send(JSON.stringify(o))};var m=function(e,t){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("function"!==typeof t)throw new TypeError("".concat(t," is not a function"));var n=new XMLHttpRequest;n.onload=function(){var e=n.status,r=n.responseText;if(401===e||404===e){var o=JSON.parse(r).error;t(new Error(o))}else if(200===e){var a=r,s=JSON.parse(a);t(null,s)}},n.open("GET","https://b00tc4mp.herokuapp.com/api/v2/users"),n.setRequestHeader("Authorization","Bearer ".concat(e)),n.send()};var b=function(e,t,n,r){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("string"!==typeof t)throw new TypeError("".concat(t," is not a string"));if(!t.trim().length)throw new Error("oldPassword is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("oldPassword has blank spaces");if(t.length<6)throw new Error("oldPassword has less than 6 characters");if("string"!==typeof n)throw new TypeError("".concat(n," is not a string"));if(!n.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(n))throw new Error("password has blank spaces");if(n.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof r)throw new TypeError("".concat(r," is not a function"));var o=new XMLHttpRequest;o.onload=function(){var e=o.status,t=o.responseText;if(400===e||401===e){var n=JSON.parse(t).error;r(new Error(n))}else 204===e&&r(null)},o.open("PATCH","https://b00tc4mp.herokuapp.com/api/v2/users"),o.setRequestHeader("Authorization","Bearer ".concat(e)),o.setRequestHeader("Content-Type","application/json");var a={oldPassword:t,password:n};o.send(JSON.stringify(a))};var g=function(e,t,n){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("string"!==typeof t)throw new TypeError("".concat(t," is not a string"));if(!t.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("password has blank spaces");if(t.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof n)throw new TypeError("".concat(n," is not a function"));var r=new XMLHttpRequest;r.onload=function(){var e=r.status,t=r.responseText;if(400===e||401===e){var o=JSON.parse(t).error;n(new Error(o))}else 204===e&&n(null)},r.open("DELETE","https://b00tc4mp.herokuapp.com/api/v2/users"),r.setRequestHeader("Authorization","Bearer ".concat(e)),r.setRequestHeader("Content-Type","application/json");var o={password:t};r.send(JSON.stringify(o))};var v=function(e,t){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));var n=new XMLHttpRequest;n.onload=function(){var e=n.status,r=n.responseText;if(200===e){var o=JSON.parse(r);t(null,o)}},n.open("GET","https://b00tc4mp.herokuapp.com/api/hotwheels/vehicles?q=".concat(e)),n.send()};var w=function(e,t,n){if("string"!==typeof t)throw new TypeError("".concat(t," is not a string"));var r=new XMLHttpRequest;r.onload=function(){var e=r.status,o=r.responseText;if(401===e||404===e){var a=JSON.parse(o).error;n(new Error(a))}else if(200===e){var s=o,i=JSON.parse(s).favs,c=(void 0===i?[]:i).includes(t),u=new XMLHttpRequest;u.onload=function(){var e=u.status,r=u.responseText;if(200===e){var o=JSON.parse(r);if(!o)return n(new Error("no vehicle found with id ".concat(t)));o.isFav=c,n(null,o)}},u.open("GET","https://b00tc4mp.herokuapp.com/api/hotwheels/vehicles/".concat(t)),u.send()}},r.open("GET","https://b00tc4mp.herokuapp.com/api/v2/users"),r.setRequestHeader("Authorization","Bearer ".concat(e)),r.send()};var j=function(e,t,n){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("string"!==typeof t)throw new TypeError("".concat(t," is not a string"));if(!t.trim().length)throw new Error("id is empty or blank");if("function"!==typeof n)throw new TypeError("".concat(n," is not a function"));var r=new XMLHttpRequest;r.onload=function(){var o=r.status,a=r.responseText;if(401===o||404===o){var s=JSON.parse(a).error;n(new Error(s))}else if(200===o){var i=a,c=JSON.parse(i).favs,u=void 0===c?[]:c,l=u.indexOf(t);l<0?u.push(t):u.splice(l,1);var p=new XMLHttpRequest;p.onload=function(){var e=p.status,t=p.responseText;if(400===e||401===e){var r=JSON.parse(t).error;n(new Error(r))}else 204===e&&n(null)},p.open("PATCH","https://b00tc4mp.herokuapp.com/api/v2/users"),p.setRequestHeader("Authorization","Bearer ".concat(e)),p.setRequestHeader("Content-Type","application/json");var d={favs:u};p.send(JSON.stringify(d))}},r.open("GET","https://b00tc4mp.herokuapp.com/api/v2/users"),r.setRequestHeader("Authorization","Bearer ".concat(e)),r.send()};var O=function(e,t){if("string"!==typeof e)throw new TypeError("".concat(e," is not a string"));if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("function"!==typeof t)throw new TypeError("".concat(t," is not a function"));var n=new XMLHttpRequest;n.onload=function(){var e=n.status,r=n.responseText;if(401===e||404===e){var o=JSON.parse(r).error;t(new Error(o))}else if(200===e){var a=r,s=JSON.parse(a).favs,i=void 0===s?[]:s;if(i.length){var c=0,u=[];i.forEach((function(e,n){var r=new XMLHttpRequest;r.onload=function(){var o=r.status,a=r.responseText;if(200===o){var s=JSON.parse(a);if(!s)return t(new Error("no vehicle found with id ".concat(e)));c++,u[n]=s,c===i.length&&t(null,u)}},r.open("GET","https://b00tc4mp.herokuapp.com/api/hotwheels/vehicles/".concat(e)),r.send()}))}else t(null,[])}},n.open("GET","https://b00tc4mp.herokuapp.com/api/v2/users"),n.setRequestHeader("Authorization","Bearer ".concat(e)),n.send()},S=(n(14),n(0));var k=function(e){var t=e.image,n=e.text;return d.debug("Logo -> render"),Object(S.jsxs)("div",{className:"logo container",children:[Object(S.jsx)("img",{className:"logo__image",src:t}),Object(S.jsx)("h1",{className:"logo__text",children:n})]})},x=(n(16),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(i.a)(this,n),d.debug("Time -> constructor"),(e=t.call(this)).state={time:new Date},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.debug("Time -> componentDidMount"),setInterval((function(){return e.setState({time:new Date})}),1e3)}},{key:"render",value:function(){var e=this.state.time;return Object(S.jsx)("time",{className:"time container",children:e.toLocaleTimeString()})}}]),n}(r.Component));var y=function(e){var t=e.onSignIn,n=e.onSignUp;return d.debug("Landing -> render"),Object(S.jsxs)("div",{className:"landing container container--vertical container--gapped",children:[Object(S.jsx)("button",{className:"button button--medium button--dark",onClick:function(){d.debug("calling sign in"),t()},children:"Sign in"}),Object(S.jsx)("button",{className:"button button--medium",onClick:n,children:"Sign up"})]})};var N=function(e){var t=e.onSignUp,n=e.onSignIn;return d.debug("SignUp -> render"),Object(S.jsxs)("form",{className:"signup container container--vertical container--gapped",onSubmit:function(e){e.preventDefault();var n=e.target,r=n.name.value,o=n.username.value,a=n.password.value;t(r,o,a)},children:[Object(S.jsx)("input",{className:"field",type:"text",name:"name",id:"name",placeholder:"name"}),Object(S.jsx)("input",{className:"field",type:"text",name:"username",id:"username",placeholder:"username"}),Object(S.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"password"}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"button button--medium",onClick:function(e){e.preventDefault(),n()},children:"Sign in"}),Object(S.jsx)("button",{className:"button button--medium button--dark",children:"Sign up"})]})]})};var E=function(e){var t=e.onSignIn;return d.debug("PostSignUp -> render"),Object(S.jsxs)("div",{className:"post-signup container container--gapped container--vertical",children:["User registered successfully, now you can proceed to ",Object(S.jsx)("button",{className:"button button--dark button--medium",onClick:function(){return t()},children:"Sign in"})]})};var T=function(e){var t=e.onSignIn,n=e.onSignUp;return d.debug("SignIn -> render"),Object(S.jsxs)("form",{className:"signin container container--vertical container--gapped",onSubmit:function(e){e.preventDefault();var n=e.target,r=n.username.value,o=n.password.value;t(r,o)},children:[Object(S.jsx)("input",{className:"field",type:"text",name:"username",id:"username",placeholder:"username"}),Object(S.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"password"}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"button button--medium",onClick:function(e){e.preventDefault(),n()},children:"Sign up"}),Object(S.jsx)("button",{className:"button button--medium button--dark",children:"Sign in"})]})]})};var F=function(e){var t=e.onSearch,n=e.query;return d.debug("Search -> render"),Object(S.jsxs)("form",{className:"home__search container",onSubmit:function(e){e.preventDefault();var n=e.target.query.value;t(n)},children:[Object(S.jsx)("input",{className:"field",type:"text",placeholder:"criteria",name:"query",defaultValue:n}),Object(S.jsx)("button",{className:"button button--medium button--dark",children:"Search"})]})};var A=function(e){var t=e.items,n=e.onItem;return d.debug("Results -> render"),t.length?Object(S.jsx)("ul",{className:"home__results container container--vertical",children:t.map((function(e){var t=e.id,r=e.name,o=e.thumbnail,a=e.image,s=e.price;return Object(S.jsxs)("li",{className:"home__result",onClick:function(){return n(t)},children:[Object(S.jsx)("h2",{children:r}),Object(S.jsx)("img",{src:o||a}),Object(S.jsx)("span",{children:s})]})}))}):null},_=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this)).toggleFav=function(e){r.setState({fav:!r.state.fav}),r.props.onToggleFav(e)},r.state={fav:e.item.isFav},r}return Object(c.a)(n,[{key:"render",value:function(){d.debug("Detail -> render");var e=this.props,t=e.item,n=t.id,r=t.name,o=t.image,a=t.year,s=t.price,i=t.color,c=t.style,u=t.collection,l=t.maker,p=t.url,h=e.onBack,f=this.state.fav,m=this.toggleFav;return Object(S.jsxs)("div",{className:"home__detail container container--vertical",children:[Object(S.jsx)("h2",{children:r}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"button",onClick:h,children:"Go back"}),Object(S.jsx)("button",{className:"button",onClick:function(){return m(n)},children:f?"\ud83d\udc9c":"\ud83e\udd0d"})]}),Object(S.jsx)("img",{className:"home__detail-image",src:o,alt:""}),Object(S.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit.Nostrum quas sapiente veritatis, magni natus necessitatibus velit aliquam enim iste?Beatae velit explicabo temporibus et blanditiis!Deleniti nemo voluptatem cumque nam."}),Object(S.jsx)("time",{children:a}),Object(S.jsxs)("span",{children:[s," $"]}),Object(S.jsx)("span",{children:i}),Object(S.jsx)("span",{children:c}),Object(S.jsx)("span",{children:u}),Object(S.jsx)("span",{children:l}),Object(S.jsx)("a",{href:p,children:"original"})]})}}]),n}(r.Component);var q=function(e){var t=e.onUnregister,n=e.onBack;return d.debug("Unregister -> render"),Object(S.jsx)("div",{className:"unregister container container--vertical",children:Object(S.jsxs)("form",{className:"container container--vertical",onSubmit:function(e){e.preventDefault();var n=e.target.password.value;t(n)},children:[Object(S.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"password"}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"button button--medium",onClick:function(e){e.preventDefault(),n()},children:"Go back"}),Object(S.jsx)("button",{className:"button button--medium button--dark",children:"Unregister"})]})]})})},C=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(i.a)(this,n),d.debug("Profile -> constructor"),(e=t.call(this)).goToUnregister=function(){return e.setState({view:"unregister"})},e.goToUpdatePassword=function(){return e.setState({view:"update-password"})},e.state={view:"update-password"},e}return Object(c.a)(n,[{key:"render",value:function(){d.debug("Profile -> render");var e=this.props,t=e.onPasswordUpdate,n=e.onBack,r=e.onUnregister,o=this.state.view,a=this.goToUnregister,s=this.goToUpdatePassword;return Object(S.jsxs)(S.Fragment,{children:["update-password"===this.state.view&&Object(S.jsxs)("div",{className:"profile container container--vertical",children:[Object(S.jsxs)("form",{className:"container container--vertical",onSubmit:function(e){e.preventDefault();var n=e.target,r=n.oldPassword.value,o=n.password.value;t(r,o)},children:[Object(S.jsx)("input",{className:"field",type:"password",name:"oldPassword",id:"oldPassword",placeholder:"old password"}),Object(S.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"new password"}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{className:"button button--medium",onClick:function(e){e.preventDefault(),n()},children:"Go back"}),Object(S.jsx)("button",{className:"button button--medium button--dark",children:"Update"})]})]}),Object(S.jsx)("button",{className:"button button--medium button--dark",onClick:a,children:"Unregister"})]}),"unregister"===o&&Object(S.jsx)(q,{onBack:s,onUnregister:r})]})}}]),n}(r.Component);var U=function(e){var t=e.items,n=e.onBack;return d.debug("Favs -> render"),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("button",{className:"button button--medium",onClick:function(e){e.preventDefault(),n()},children:"Go back"}),Object(S.jsx)(A,{items:t})]})},H=(n(17),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(i.a)(this,n),d.debug("Home -> constructor"),(e=t.call(this)).search=function(t){var n=Object(u.a)(e).props,r=n.onFlowStart,o=n.onFlowEnd,a=n.onFeedback;r(),e.setState({vehicle:null,vehicles:[],query:t});try{v(t,(function(t,n){if(t)return o(),void a(t.message);e.setState({vehicles:n}),o()}))}catch(i){var s=i.message;o(),a(s,"warn")}},e.goToItem=function(t){var n=Object(u.a)(e).props,r=n.onFlowStart,o=n.onFlowEnd,a=n.onFeedback;r();try{w(sessionStorage.token,t,(function(t,n){if(t)return o(),void a(t.message);e.setState({vehicle:n}),o()}))}catch(i){var s=i.message;o(),a(s,"warn")}},e.clearVehicle=function(){return e.setState({vehicle:null})},e.goToProfile=function(){return e.setState({view:"profile"})},e.goToSearch=function(){return e.setState({view:"search"})},e.updatePassword=function(t,n){var r=Object(u.a)(e).props,o=r.onFlowStart,a=r.onFlowEnd,s=r.onFeedback;o();try{b(sessionStorage.token,t,n,(function(e){if(e)return a(),void s(e.message);a(),s("Password updated","success")}))}catch(c){var i=c.message;a(),s(i,"warn")}},e.unregister=function(t){var n=Object(u.a)(e).props,r=n.onFlowStart,o=n.onFlowEnd,a=n.onSignOut,s=n.onFeedback;r();try{g(sessionStorage.token,t,(function(e){if(e)return o(),void s(e.message);d.info("User unregistered"),o(),s("User unregistered","success"),a()}))}catch(c){var i=c.message;o(),s(i,"warn")}},e.toggleFav=function(t){var n=Object(u.a)(e).props,r=n.onFlowStart,o=n.onFlowEnd,a=n.onFeedback;r();try{j(sessionStorage.token,t,(function(e){if(e)return o(),void a(e.message);o()}))}catch(i){var s=i.message;o(),a(s,"warn")}},e.goToFavs=function(){var t=Object(u.a)(e).props,n=t.onFlowStart,r=t.onFlowEnd,o=t.onFeedback;n();try{O(sessionStorage.token,(function(t,n){if(t)return r(),void o(t.message);r(),e.setState({view:"favs",favs:n})}))}catch(s){var a=s.message;r(),o(a,"warn")}},e.state={vehicles:[],vehicle:null,view:"search",favs:[],query:null},e}return Object(c.a)(n,[{key:"render",value:function(){d.debug("Home -> render");var e=this.state,t=e.view,n=e.vehicle,r=e.vehicles,o=e.favs,a=e.query,s=this.props,i=s.name,c=s.onSignOut,u=this.goToProfile,l=this.goToItem,p=this.clearVehicle,h=this.updatePassword,f=this.goToSearch,m=this.search,b=this.unregister,g=this.toggleFav,v=this.goToFavs;return Object(S.jsxs)("div",{className:"home container container--gapped container--vertical",children:[Object(S.jsxs)("div",{className:"container",children:[Object(S.jsxs)("p",{children:["Hello, ",Object(S.jsx)("span",{className:"name",children:i||"World"}),"!"]}),Object(S.jsx)("button",{className:"button button-medium button--dark",onClick:u,children:"Profile"}),Object(S.jsx)("button",{className:"button button-medium button--dark",onClick:v,children:"Favs"}),Object(S.jsx)("button",{className:"button button-medium button",onClick:c,children:"Sign out"})]}),"search"===t&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(F,{onSearch:m,query:a}),!n&&Object(S.jsx)(A,{items:r,onItem:l}),n&&Object(S.jsx)(_,{item:n,onBack:p,onToggleFav:g})]}),"profile"===t&&Object(S.jsx)(C,{onBack:f,onPasswordUpdate:h,onUnregister:b}),"favs"===t&&Object(S.jsx)(U,{items:o,onBack:f})]})}}]),n}(r.Component));n(18);var R=function(){return d.debug("Spinner -> render"),Object(S.jsx)("div",{className:"spinner container container--vertical container--full",children:Object(S.jsx)("img",{className:"spinner__image",src:"https://c.tenor.com/I6kN-6X7nhAAAAAj/loading-buffering.gif",alt:""})})};n(19);var D=function(e){var t=e.level,n=e.message,r=e.onAccept;d.debug("Feedback -> render"),"success"===t?d.info(n):"warn"===t?d.warn(n):"error"===t&&d.error(n);var o="feedback__text ".concat(t?"feedback__text--".concat(t):"");return Object(S.jsx)("div",{className:"feedback container container--vertical container--full",children:Object(S.jsxs)("div",{className:"panel container container--vertical container--gapped",children:[Object(S.jsx)("p",{className:o,children:n}),Object(S.jsx)("button",{className:"button button--dark",onClick:r,children:"Accept"})]})})},I=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(i.a)(this,n),d.debug("App -> constructor"),(e=t.call(this)).resetTokenAndGoToLanding=function(){delete sessionStorage.token,e.setState({view:"landing",spinner:!1})},e.goToSignIn=function(){return e.setState({view:"signin"})},e.goToSignUp=function(){return e.setState({view:"signup"})},e.showSpinner=function(){return e.setState({spinner:!0})},e.hideSpinner=function(){return e.setState({spinner:!1})},e.signUp=function(t,n,r){var o=Object(u.a)(e),a=o.showSpinner,s=o.hideSpinner,i=o.showFeedback;a();try{h(t,n,r,(function(t){if(t)return s(),void i(t.message);e.setState({view:"post-signup",spinner:!1})}))}catch(l){var c=l.message;s(),i(c,"warn")}},e.signIn=function(t,n){var r=Object(u.a)(e),o=r.showSpinner,a=r.hideSpinner,s=r.showFeedback;o();try{f(t,n,(function(t,n){if(t)return a(),void s(t.message);sessionStorage.token=n;try{m(n,(function(t,n){if(t)return a(),void s(t.message);var r=n.name;e.setState({view:"home",name:r,spinner:!1})}))}catch(o){var r=o.message;a(),s(r,"warn")}}))}catch(c){var i=c.message;a(),s(i,"warn")}},e.acceptFeedback=function(){return e.setState({feedback:null})},e.showFeedback=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return e.setState({feedback:t,level:n})},e.state={view:sessionStorage.token?"":"landing",name:null,spinner:!!sessionStorage.token,feedback:null,level:"error"},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.debug("App -> componentDidMount");var t=sessionStorage.token,n=this.resetTokenAndGoToLanding,r=this.showFeedback;if(t)try{m(t,(function(t,r){if(t)return alert(t.message),void n();var o=r.name;e.setState({view:"home",name:o,spinner:!1})}))}catch(o){return r(o.message,"warn"),void n()}}},{key:"render",value:function(){d.debug("App -> render");var e=this.goToSignIn,t=this.goToSignUp,n=this.signUp,r=this.signIn,o=this.resetTokenAndGoToLanding,a=this.showSpinner,s=this.hideSpinner,i=this.acceptFeedback,c=this.showFeedback,u=this.state,l=u.view,p=u.name,h=u.spinner,f=u.feedback,m=u.level;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(k,{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Flat_tick_icon.svg/1200px-Flat_tick_icon.svg.png",text:"Demo App"}),Object(S.jsx)(x,{}),"landing"===l&&Object(S.jsx)(y,{onSignIn:e,onSignUp:t}),"signup"===l&&Object(S.jsx)(N,{onSignUp:n,onSignIn:e}),"post-signup"===l&&Object(S.jsx)(E,{onSignIn:e}),"signin"===l&&Object(S.jsx)(T,{onSignIn:r,onSignUp:t}),"home"===l&&Object(S.jsx)(H,{name:p,onSignOut:o,onFlowStart:a,onFlowEnd:s,onFeedback:c}),h&&Object(S.jsx)(R,{}),f&&Object(S.jsx)(D,{level:m,message:f,onAccept:i})]})}}]),n}(r.Component),P=I,J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),o(e),a(e),s(e)}))};s.a.render(Object(S.jsx)(o.a.StrictMode,{children:Object(S.jsx)(P,{})}),document.getElementById("root")),J()}],[[20,1,2]]]);
//# sourceMappingURL=main.25670ec5.chunk.js.map